官方解释：反射允许对封装类的字段，成员方法和构造方法的信息进行编程访问
通俗理解就是把类里面方法一个一个获取 出来进行操作
利用反射能获取类里面的所有信息
获取类里面的内容是从字节码文件里面获得的，而获得字节码文件首先要获得字节码对象
![[Pasted image 20240731121830.png]]
![[Pasted image 20240731120428.png]]


#### 获取class对象的三种方式
1.Class.forName(“全类名”)(全类名是包名加类名)
2.类名.class
3.对象.getClass();
这三种获取的方法有各自使用的时机
第一种，当字节码文件还在硬盘里面没有进入内存运行，这种阶段我们叫做源代码阶段，这个时候我们使用第一种方法
![[Pasted image 20240731134120.png]]
当class进入到内存里面的时候我们称之为加载阶段用第二种方式
![[Pasted image 20240731134221.png]]

当我们创建了这个类的对象，这个叫做运行阶段，我们使用第三种方法
![[Pasted image 20240731134305.png]]
第一种方法最常用，第二种方式，一般更多的是当作参数进行传递，第三种方式是当我们已经有了这个类的对象时，才可以使用 

#### 反射获取构造方法
类里面的每一部分其实都能看作是一个对象，比如构造方法，字段(成员变量)，成员方法
![[Pasted image 20240731174544.png]]
下面获取单个构造方法的形参是成员变量的类型.class
还可以使用获取的构造方法来创建对象
通过获取到的构造方法还能知道他们的修饰符，用getModifiers方法
![[Pasted image 20240731230842.png]]
![[Pasted image 20240731174629.png]]
如果构造方法被修饰符修饰无法创建对象，那么使用setAccessible方法来暂时取笑权限校验，这也被称之为暴力反射
![[Pasted image 20240731174754.png]]


#### 反射获取成员变量
方法和获取构造方法差不多
![[Pasted image 20240801120412.png]]
获取单个时略有不同，参数不一样
也能获得修饰符之类的
![[Pasted image 20240801121305.png]]
还能获取成员变量记录的值
![[Pasted image 20240801121333.png]]
使用get方法，，如果成员变量有私人修饰符修饰，还需要进行暴力反射
还能修改对象里面记录的变量值，使用set方法
![[Pasted image 20240801121655.png]]


#### 利用反射获取成员方法
和上面差不多
![[Pasted image 20240801164608.png]]
细节
getMethods
能获取包括父类中所有的公共方法
gerDeclareMethods只能获取本类的，不过能获取私有的
获取单个方法的方法的形参第一个为方法名，第二个为方法形参的对象，第二个参数是为了方法的重载
还能获取方法的其他信息
![[Pasted image 20240801170554.png]]![[Pasted image 20240801170603.png]]
![[Pasted image 20240801170612.png]]![[Pasted image 20240801170944.png]]
还能运行获取出来的方法，这个方法比较复杂
![[Pasted image 20240801171234.png]]
例子
![[Pasted image 20240801171825.png]]



#### 反射的作用
1.获取一个类里面所有的信息，获取到了之后，再执行其他的业务逻辑
2.结合配置文件，动态的创建对象并调用方法
就是在配置文件里面提前写好对象名和方法，使用配置文件来读取调用
步骤1：读取配置文件中的信息
![[Pasted image 20240801225713.png]]
步骤2：获取全类名和方法名
![[Pasted image 20240801225743.png]]
步骤3：利用反射创建对象并运行方法
![[Pasted image 20240801230321.png]]
![[Pasted image 20240801230803.png]]