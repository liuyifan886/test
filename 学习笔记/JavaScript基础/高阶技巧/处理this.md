#### this指向-普通函数
普通函数this指向，谁调用this的值指向谁，严格模式下指向undefined(严格模式是一个模式，开启后代码必须非常严谨，因为太过严格所以一般不开启)
开启方式
![[Pasted image 20241009090151.png]]
![[Pasted image 20241009090113.png]]

#### this指向-箭头函数
箭头函数中的this与普通函数完全不同，也不受调用方式的影响，**事实上箭头函数中并不存在this**
1.箭头函数会默认帮我们绑定外层this的值，所以箭头函数中this的值和外层的this是一样的
2.箭头函数中的this引用的就是最近作用域中的this
3.向外层作用域中，一层一层查找this，直到有this的定义
![[Pasted image 20241009090824.png]]

##### 注意情况
1.在开发中使用箭头函数前需要考虑函数中的this的值，事件回调函数使用箭头函数时，this为全局的window因此DOM事件回调函数如果里面需要DOM对象的this，则不推荐使用箭头函数
![[Pasted image 20241009091023.png]]
2.同样由于箭头函数this的原因，基于原型的面向对象也不推荐采用箭头函数
![[Pasted image 20241009091431.png]]


#### 改变this
JavaScript中还允许指定函数中this的指向，有三个方法可以动态指定普通函数中this的指向，分别是call(),apply(),bind()

==call()用的少做了解==
语法
![[Pasted image 20241009092822.png]]
thisArg：在fun函数运行时指定的this值，比如在里面放一个对象，那么这个this就指向这个对象，如果不想改变的话，可以写null
arg1，arg2：传递的其他参数，如果这个函数有形参的话，就可以在后面加上arg1，arg2，比如这个函数的功能是打印两个形参的和，我们就可以在thisArg后面加上参数，其实本质和调用函数差不多
返回值就是函数的返回值，因为它就是调用函数
![[Pasted image 20241009093309.png]]


apply()
使用apply方法调用函数，同时指定被调用函数中this的值
语法：
![[Pasted image 20241009094555.png]]
和call的区别就是后面的形参变成了数组
thisArg：在fun函数运行时指定的this值
argsArray：传递的值，必须包含在数组里面
返回值就是函数的返回值，因为它就是调用函数
因此apply主要跟数组有关系，比如使用Math.max()求数组的最大值


bind()
不会调用函数，但是能改变函数内部this指向
语法：
fun.bind(thisArg,arg1,arg2...)
thisArg：在fun函数运行时指定的this值
arg1，arg2：传递的其他参数
返回由指定的this值和初始化参数改造的原函数拷贝(返回一个和this被修改为指定的值其他和原函数一样的函数)
因此我们只想改变this指向，并且不想调用这个函数的时候，可以使用bind，比如改变定时器内部this指向