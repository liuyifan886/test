Garbage Collection简称GC


##### 内存的生命周期
js环境中分配的内存，一般有如下生命周期
1.内存分配：当我们声明变量，函数，对象的时候，系统会自动为他们分配内存
2.内存使用：即读取内存，也就是使用变量，函数等
3.内存回收：回收完毕，由垃圾回收器自动回收不再使用的内存

说明：
1.全局变量一般不会回收(关闭页面回收)
2.一般情况下局部变量的值不用了，会被自动回收掉

内存泄漏：程序中分配的内存由于某种原因程序未释放或无法释放叫做内存泄漏



##### 垃圾回收机制算法说明
![[Pasted image 20240924081536.png]]

但是他有一个致命的问题：(循环引用)
如果两个对象互相引用，尽管他们已不再使用，垃圾回收器不会进行回收，导致内存泄漏
![[Pasted image 20240924082411.png]]

因为他们的引用次数永远不会是0，这样的相互引用如果说很大量的存在就会导致大量的内存泄漏



##### 标记清除法
现代的浏览器已经不再使用引用计数算法了
现代浏览器通用的大多是基于标记清除算法的某些改进算法，总体思想都是一致的
核心：
1.标记清除算法将“不再使用的对象”定义为“无法达到的对象”
2.就是从根部(在js中就是全局变量)出发定时扫描内存中的对象，凡是能从根部到达的对象，都是还需要使用的
3.那些无法由根部出发触及到的对象被标记为不再使用，然后进行回收